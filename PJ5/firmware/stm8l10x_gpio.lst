                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.4.0 #8981 (Sep 26 2015) (Mac OS X x86_64)
                                      4 ; This file was generated Tue Oct 13 14:47:14 2015
                                      5 ;--------------------------------------------------------
                                      6 	.module stm8l10x_gpio
                                      7 	.optsdcc -mstm8
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _GPIO_DeInit
                                     13 	.globl _GPIO_Init
                                     14 	.globl _GPIO_Write
                                     15 	.globl _GPIO_WriteBit
                                     16 	.globl _GPIO_SetBits
                                     17 	.globl _GPIO_ResetBits
                                     18 	.globl _GPIO_ToggleBits
                                     19 	.globl _GPIO_ReadInputData
                                     20 	.globl _GPIO_ReadOutputData
                                     21 	.globl _GPIO_ReadInputDataBit
                                     22 	.globl _GPIO_ReadOutputDataBit
                                     23 	.globl _GPIO_ExternalPullUpConfig
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area DATA
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area INITIALIZED
                                     32 ;--------------------------------------------------------
                                     33 ; absolute external ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area DABS (ABS)
                                     36 ;--------------------------------------------------------
                                     37 ; global & static initialisations
                                     38 ;--------------------------------------------------------
                                     39 	.area HOME
                                     40 	.area GSINIT
                                     41 	.area GSFINAL
                                     42 	.area GSINIT
                                     43 ;--------------------------------------------------------
                                     44 ; Home
                                     45 ;--------------------------------------------------------
                                     46 	.area HOME
                                     47 	.area HOME
                                     48 ;--------------------------------------------------------
                                     49 ; code
                                     50 ;--------------------------------------------------------
                                     51 	.area CODE
                                     52 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 57: void GPIO_DeInit(GPIO_TypeDef* GPIOx)
                                     53 ;	-----------------------------------------
                                     54 ;	 function GPIO_DeInit
                                     55 ;	-----------------------------------------
      000000                         56 _GPIO_DeInit:
                                     57 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 59: GPIOx->ODR = GPIO_ODR_RESET_VALUE; /* Reset Output Data Register */
      000000 16 03            [ 2]   58 	ldw	y, (0x03, sp)
      000002 90 7F            [ 1]   59 	clr	(y)
                                     60 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 60: GPIOx->DDR = GPIO_DDR_RESET_VALUE; /* Reset Data Direction Register */
      000004 93               [ 1]   61 	ldw	x, y
      000005 5C               [ 2]   62 	incw	x
      000006 5C               [ 2]   63 	incw	x
      000007 7F               [ 1]   64 	clr	(x)
                                     65 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 61: GPIOx->CR1 = GPIO_CR1_RESET_VALUE; /* Reset Control Register 1 */
      000008 93               [ 1]   66 	ldw	x, y
      000009 1C 00 03         [ 2]   67 	addw	x, #0x0003
      00000C 7F               [ 1]   68 	clr	(x)
                                     69 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 62: GPIOx->CR2 = GPIO_CR2_RESET_VALUE; /* Reset Control Register 2 */
      00000D 93               [ 1]   70 	ldw	x, y
      00000E 1C 00 04         [ 2]   71 	addw	x, #0x0004
      000011 7F               [ 1]   72 	clr	(x)
      000012 81               [ 4]   73 	ret
                                     74 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 98: void GPIO_Init(GPIO_TypeDef* GPIOx,
                                     75 ;	-----------------------------------------
                                     76 ;	 function GPIO_Init
                                     77 ;	-----------------------------------------
      000013                         78 _GPIO_Init:
      000013 52 03            [ 2]   79 	sub	sp, #3
                                     80 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 117: GPIOx->ODR |= GPIO_Pin;
      000015 16 06            [ 2]   81 	ldw	y, (0x06, sp)
      000017 17 02            [ 2]   82 	ldw	(0x02, sp), y
                                     83 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 120: GPIOx->ODR &= (uint8_t)(~(GPIO_Pin));
      000019 7B 08            [ 1]   84 	ld	a, (0x08, sp)
      00001B 43               [ 1]   85 	cpl	a
      00001C 6B 01            [ 1]   86 	ld	(0x01, sp), a
                                     87 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 123: GPIOx->DDR |= GPIO_Pin;
      00001E 1E 02            [ 2]   88 	ldw	x, (0x02, sp)
      000020 5C               [ 2]   89 	incw	x
      000021 5C               [ 2]   90 	incw	x
                                     91 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 113: if ((((uint8_t)(GPIO_Mode)) & (uint8_t)0x80) != (uint8_t)0x00) /* Output mode */
      000022 7B 09            [ 1]   92 	ld	a, (0x09, sp)
      000024 48               [ 1]   93 	sll	a
      000025 24 22            [ 1]   94 	jrnc	00105$
                                     95 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 115: if ((((uint8_t)(GPIO_Mode)) & (uint8_t)0x10) != (uint8_t)0x00) /* High level */
      000027 7B 09            [ 1]   96 	ld	a, (0x09, sp)
      000029 A5 10            [ 1]   97 	bcp	a, #0x10
      00002B 27 0C            [ 1]   98 	jreq	00102$
                                     99 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 117: GPIOx->ODR |= GPIO_Pin;
      00002D 16 02            [ 2]  100 	ldw	y, (0x02, sp)
      00002F 90 F6            [ 1]  101 	ld	a, (y)
      000031 1A 08            [ 1]  102 	or	a, (0x08, sp)
      000033 16 02            [ 2]  103 	ldw	y, (0x02, sp)
      000035 90 F7            [ 1]  104 	ld	(y), a
      000037 20 0A            [ 2]  105 	jra	00103$
      000039                        106 00102$:
                                    107 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 120: GPIOx->ODR &= (uint8_t)(~(GPIO_Pin));
      000039 16 02            [ 2]  108 	ldw	y, (0x02, sp)
      00003B 90 F6            [ 1]  109 	ld	a, (y)
      00003D 14 01            [ 1]  110 	and	a, (0x01, sp)
      00003F 16 02            [ 2]  111 	ldw	y, (0x02, sp)
      000041 90 F7            [ 1]  112 	ld	(y), a
      000043                        113 00103$:
                                    114 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 123: GPIOx->DDR |= GPIO_Pin;
      000043 F6               [ 1]  115 	ld	a, (x)
      000044 1A 08            [ 1]  116 	or	a, (0x08, sp)
      000046 F7               [ 1]  117 	ld	(x), a
      000047 20 04            [ 2]  118 	jra	00106$
      000049                        119 00105$:
                                    120 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 127: GPIOx->DDR &= (uint8_t)(~(GPIO_Pin));
      000049 F6               [ 1]  121 	ld	a, (x)
      00004A 14 01            [ 1]  122 	and	a, (0x01, sp)
      00004C F7               [ 1]  123 	ld	(x), a
      00004D                        124 00106$:
                                    125 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 136: GPIOx->CR1 |= GPIO_Pin;
      00004D 1E 02            [ 2]  126 	ldw	x, (0x02, sp)
      00004F 1C 00 03         [ 2]  127 	addw	x, #0x0003
                                    128 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 134: if ((((uint8_t)(GPIO_Mode)) & (uint8_t)0x40) != (uint8_t)0x00) /* Pull-Up or Push-Pull */
      000052 7B 09            [ 1]  129 	ld	a, (0x09, sp)
      000054 A5 40            [ 1]  130 	bcp	a, #0x40
      000056 27 06            [ 1]  131 	jreq	00108$
                                    132 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 136: GPIOx->CR1 |= GPIO_Pin;
      000058 F6               [ 1]  133 	ld	a, (x)
      000059 1A 08            [ 1]  134 	or	a, (0x08, sp)
      00005B F7               [ 1]  135 	ld	(x), a
      00005C 20 04            [ 2]  136 	jra	00109$
      00005E                        137 00108$:
                                    138 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 139: GPIOx->CR1 &= (uint8_t)(~(GPIO_Pin));
      00005E F6               [ 1]  139 	ld	a, (x)
      00005F 14 01            [ 1]  140 	and	a, (0x01, sp)
      000061 F7               [ 1]  141 	ld	(x), a
      000062                        142 00109$:
                                    143 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 148: GPIOx->CR2 |= GPIO_Pin;
      000062 1E 02            [ 2]  144 	ldw	x, (0x02, sp)
      000064 1C 00 04         [ 2]  145 	addw	x, #0x0004
                                    146 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 146: if ((((uint8_t)(GPIO_Mode)) & (uint8_t)0x20) != (uint8_t)0x00) /* Interrupt or Slow slope */
      000067 7B 09            [ 1]  147 	ld	a, (0x09, sp)
      000069 A5 20            [ 1]  148 	bcp	a, #0x20
      00006B 27 06            [ 1]  149 	jreq	00111$
                                    150 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 148: GPIOx->CR2 |= GPIO_Pin;
      00006D F6               [ 1]  151 	ld	a, (x)
      00006E 1A 08            [ 1]  152 	or	a, (0x08, sp)
      000070 F7               [ 1]  153 	ld	(x), a
      000071 20 04            [ 2]  154 	jra	00113$
      000073                        155 00111$:
                                    156 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 151: GPIOx->CR2 &= (uint8_t)(~(GPIO_Pin));
      000073 F6               [ 1]  157 	ld	a, (x)
      000074 14 01            [ 1]  158 	and	a, (0x01, sp)
      000076 F7               [ 1]  159 	ld	(x), a
      000077                        160 00113$:
      000077 5B 03            [ 2]  161 	addw	sp, #3
      000079 81               [ 4]  162 	ret
                                    163 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 163: void GPIO_Write(GPIO_TypeDef* GPIOx, uint8_t GPIO_PortVal)
                                    164 ;	-----------------------------------------
                                    165 ;	 function GPIO_Write
                                    166 ;	-----------------------------------------
      00007A                        167 _GPIO_Write:
                                    168 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 165: GPIOx->ODR = GPIO_PortVal;
      00007A 1E 03            [ 2]  169 	ldw	x, (0x03, sp)
      00007C 7B 05            [ 1]  170 	ld	a, (0x05, sp)
      00007E F7               [ 1]  171 	ld	(x), a
      00007F 81               [ 4]  172 	ret
                                    173 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 185: void GPIO_WriteBit(GPIO_TypeDef* GPIOx, GPIO_Pin_TypeDef GPIO_Pin, BitAction GPIO_BitVal)
                                    174 ;	-----------------------------------------
                                    175 ;	 function GPIO_WriteBit
                                    176 ;	-----------------------------------------
      000080                        177 _GPIO_WriteBit:
      000080 52 02            [ 2]  178 	sub	sp, #2
                                    179 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 193: SetBit(GPIOx->ODR, GPIO_Pin);
      000082 1E 05            [ 2]  180 	ldw	x, (0x05, sp)
      000084 A6 01            [ 1]  181 	ld	a, #0x01
      000086 6B 02            [ 1]  182 	ld	(0x02, sp), a
      000088 7B 07            [ 1]  183 	ld	a, (0x07, sp)
      00008A 4D               [ 1]  184 	tnz	a
      00008B 27 05            [ 1]  185 	jreq	00111$
      00008D                        186 00110$:
      00008D 08 02            [ 1]  187 	sll	(0x02, sp)
      00008F 4A               [ 1]  188 	dec	a
      000090 26 FB            [ 1]  189 	jrne	00110$
      000092                        190 00111$:
                                    191 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 191: if (GPIO_BitVal != RESET)
      000092 0D 08            [ 1]  192 	tnz	(0x08, sp)
      000094 27 06            [ 1]  193 	jreq	00102$
                                    194 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 193: SetBit(GPIOx->ODR, GPIO_Pin);
      000096 F6               [ 1]  195 	ld	a, (x)
      000097 1A 02            [ 1]  196 	or	a, (0x02, sp)
      000099 F7               [ 1]  197 	ld	(x), a
      00009A 20 09            [ 2]  198 	jra	00104$
      00009C                        199 00102$:
                                    200 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 198: ClrBit(GPIOx->ODR, GPIO_Pin);
      00009C F6               [ 1]  201 	ld	a, (x)
      00009D 6B 01            [ 1]  202 	ld	(0x01, sp), a
      00009F 7B 02            [ 1]  203 	ld	a, (0x02, sp)
      0000A1 43               [ 1]  204 	cpl	a
      0000A2 14 01            [ 1]  205 	and	a, (0x01, sp)
      0000A4 F7               [ 1]  206 	ld	(x), a
      0000A5                        207 00104$:
      0000A5 5B 02            [ 2]  208 	addw	sp, #2
      0000A7 81               [ 4]  209 	ret
                                    210 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 218: void GPIO_SetBits(GPIO_TypeDef* GPIOx, uint8_t GPIO_Pin)
                                    211 ;	-----------------------------------------
                                    212 ;	 function GPIO_SetBits
                                    213 ;	-----------------------------------------
      0000A8                        214 _GPIO_SetBits:
                                    215 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 220: GPIOx->ODR |= GPIO_Pin;
      0000A8 1E 03            [ 2]  216 	ldw	x, (0x03, sp)
      0000AA F6               [ 1]  217 	ld	a, (x)
      0000AB 1A 05            [ 1]  218 	or	a, (0x05, sp)
      0000AD F7               [ 1]  219 	ld	(x), a
      0000AE 81               [ 4]  220 	ret
                                    221 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 239: void GPIO_ResetBits(GPIO_TypeDef* GPIOx, uint8_t GPIO_Pin)
                                    222 ;	-----------------------------------------
                                    223 ;	 function GPIO_ResetBits
                                    224 ;	-----------------------------------------
      0000AF                        225 _GPIO_ResetBits:
      0000AF 88               [ 1]  226 	push	a
                                    227 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 241: GPIOx->ODR &= (uint8_t)(~GPIO_Pin);
      0000B0 1E 04            [ 2]  228 	ldw	x, (0x04, sp)
      0000B2 F6               [ 1]  229 	ld	a, (x)
      0000B3 6B 01            [ 1]  230 	ld	(0x01, sp), a
      0000B5 7B 06            [ 1]  231 	ld	a, (0x06, sp)
      0000B7 43               [ 1]  232 	cpl	a
      0000B8 14 01            [ 1]  233 	and	a, (0x01, sp)
      0000BA F7               [ 1]  234 	ld	(x), a
      0000BB 84               [ 1]  235 	pop	a
      0000BC 81               [ 4]  236 	ret
                                    237 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 251: void GPIO_ToggleBits(GPIO_TypeDef* GPIOx, uint8_t GPIO_Pin)
                                    238 ;	-----------------------------------------
                                    239 ;	 function GPIO_ToggleBits
                                    240 ;	-----------------------------------------
      0000BD                        241 _GPIO_ToggleBits:
                                    242 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 253: GPIOx->ODR ^= GPIO_Pin;
      0000BD 1E 03            [ 2]  243 	ldw	x, (0x03, sp)
      0000BF F6               [ 1]  244 	ld	a, (x)
      0000C0 18 05            [ 1]  245 	xor	a, (0x05, sp)
      0000C2 F7               [ 1]  246 	ld	(x), a
      0000C3 81               [ 4]  247 	ret
                                    248 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 262: uint8_t GPIO_ReadInputData(GPIO_TypeDef* GPIOx)
                                    249 ;	-----------------------------------------
                                    250 ;	 function GPIO_ReadInputData
                                    251 ;	-----------------------------------------
      0000C4                        252 _GPIO_ReadInputData:
                                    253 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 264: return ((uint8_t)GPIOx->IDR);
      0000C4 1E 03            [ 2]  254 	ldw	x, (0x03, sp)
      0000C6 E6 01            [ 1]  255 	ld	a, (0x1, x)
      0000C8 81               [ 4]  256 	ret
                                    257 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 273: uint8_t GPIO_ReadOutputData(GPIO_TypeDef* GPIOx)
                                    258 ;	-----------------------------------------
                                    259 ;	 function GPIO_ReadOutputData
                                    260 ;	-----------------------------------------
      0000C9                        261 _GPIO_ReadOutputData:
                                    262 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 275: return ((uint8_t)GPIOx->ODR);
      0000C9 1E 03            [ 2]  263 	ldw	x, (0x03, sp)
      0000CB F6               [ 1]  264 	ld	a, (x)
      0000CC 81               [ 4]  265 	ret
                                    266 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 294: BitStatus GPIO_ReadInputDataBit(GPIO_TypeDef* GPIOx, GPIO_Pin_TypeDef GPIO_Pin)
                                    267 ;	-----------------------------------------
                                    268 ;	 function GPIO_ReadInputDataBit
                                    269 ;	-----------------------------------------
      0000CD                        270 _GPIO_ReadInputDataBit:
                                    271 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 296: return ((BitStatus)(GPIOx->IDR & (uint8_t)GPIO_Pin));
      0000CD 1E 03            [ 2]  272 	ldw	x, (0x03, sp)
      0000CF E6 01            [ 1]  273 	ld	a, (0x1, x)
      0000D1 14 05            [ 1]  274 	and	a, (0x05, sp)
      0000D3 81               [ 4]  275 	ret
                                    276 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 315: BitStatus GPIO_ReadOutputDataBit(GPIO_TypeDef* GPIOx, GPIO_Pin_TypeDef GPIO_Pin)
                                    277 ;	-----------------------------------------
                                    278 ;	 function GPIO_ReadOutputDataBit
                                    279 ;	-----------------------------------------
      0000D4                        280 _GPIO_ReadOutputDataBit:
                                    281 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 317: return ((BitStatus)(GPIOx->ODR & (uint8_t)GPIO_Pin));
      0000D4 1E 03            [ 2]  282 	ldw	x, (0x03, sp)
      0000D6 F6               [ 1]  283 	ld	a, (x)
      0000D7 14 05            [ 1]  284 	and	a, (0x05, sp)
      0000D9 81               [ 4]  285 	ret
                                    286 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 337: void GPIO_ExternalPullUpConfig(GPIO_TypeDef* GPIOx, uint8_t GPIO_Pin, FunctionalState NewState)
                                    287 ;	-----------------------------------------
                                    288 ;	 function GPIO_ExternalPullUpConfig
                                    289 ;	-----------------------------------------
      0000DA                        290 _GPIO_ExternalPullUpConfig:
      0000DA 88               [ 1]  291 	push	a
                                    292 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 345: GPIOx->CR1 |= GPIO_Pin;
      0000DB 1E 04            [ 2]  293 	ldw	x, (0x04, sp)
      0000DD 1C 00 03         [ 2]  294 	addw	x, #0x0003
                                    295 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 343: if (NewState != DISABLE) /* External Pull-Up Set*/
      0000E0 0D 07            [ 1]  296 	tnz	(0x07, sp)
      0000E2 27 06            [ 1]  297 	jreq	00102$
                                    298 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 345: GPIOx->CR1 |= GPIO_Pin;
      0000E4 F6               [ 1]  299 	ld	a, (x)
      0000E5 1A 06            [ 1]  300 	or	a, (0x06, sp)
      0000E7 F7               [ 1]  301 	ld	(x), a
      0000E8 20 09            [ 2]  302 	jra	00104$
      0000EA                        303 00102$:
                                    304 ;	lib/STM8L10x_StdPeriph_Driver/src/stm8l10x_gpio.c: 348: GPIOx->CR1 &= (uint8_t)(~(GPIO_Pin));
      0000EA F6               [ 1]  305 	ld	a, (x)
      0000EB 6B 01            [ 1]  306 	ld	(0x01, sp), a
      0000ED 7B 06            [ 1]  307 	ld	a, (0x06, sp)
      0000EF 43               [ 1]  308 	cpl	a
      0000F0 14 01            [ 1]  309 	and	a, (0x01, sp)
      0000F2 F7               [ 1]  310 	ld	(x), a
      0000F3                        311 00104$:
      0000F3 84               [ 1]  312 	pop	a
      0000F4 81               [ 4]  313 	ret
                                    314 	.area CODE
                                    315 	.area INITIALIZER
                                    316 	.area CABS (ABS)
